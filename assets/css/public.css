/* Easy Multi Step Form - Premium Multi-Step UI (High Specificity) */

:root {
	/* The following variables are dynamically updated from the admin settings page */
	--emsf-primary: var(--emsf-custom-primary, #0BC139);
	--emsf-primary-hover: var(--emsf-custom-hover, #0F991F);
	--emsf-text-main: #1e293b;
	--emsf-text-muted: #64748b;
	--emsf-label-clr: var(--emsf-custom-label-color, #1e293b);
	--emsf-placeholder-clr: var(--emsf-custom-placeholder, #94a3b8);
	--emsf-bg-form: var(--emsf-custom-form-bg, #ffffff);
	--emsf-form-radius: var(--emsf-custom-form-radius, 12px);
	--emsf-form-padding: var(--emsf-custom-form-padding, 30px);
	--emsf-bg-input: var(--emsf-custom-bg-input, #f8fafc);
	--emsf-border: #e2e8f0;
	--emsf-border-hover: var(--emsf-custom-primary, #2563eb);
	--emsf-input-radius: var(--emsf-custom-input-radius, 8px);
	--emsf-btn-radius: var(--emsf-custom-btn-radius, 8px);
	--emsf-input-padding: var(--emsf-custom-input-padding, 12px 16px);
	--emsf-btn-padding: var(--emsf-custom-btn-padding, 14px 24px);
	--emsf-error: #ef4444;
	--emsf-success: #22c55e;
	--emsf-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Wrapper and Layout */
.emsf-contact-form-wrapper {
	max-width: 600px;
	margin: 40px auto;
	background: var(--emsf-bg-form) !important;
	border-radius: var(--emsf-form-radius) !important;
	box-shadow: var(--emsf-shadow) !important;
	overflow: hidden !important;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
	border: 1px solid var(--emsf-border) !important;
	box-sizing: border-box !important;
}

#emsf-contact-form {
	margin: 0 !important;
	padding: var(--emsf-form-padding) !important;
	background: transparent !important;
	border: none !important;
	box-shadow: none !important;
}

/* Header & Tracker */
.emsf-form-header {
	background: #f8fafc !important;
	padding: 30px !important;
	border-bottom: 1px solid var(--emsf-border) !important;
}

.emsf-form-header h2 {
	margin: 0 !important;
	font-size: 22px !important;
	color: var(--emsf-text-main) !important;
	font-weight: 700 !important;
	text-align: center !important;
	line-height: 1.2 !important;
	border: none !important;
}

.emsf-steps-tracker {
	display: flex !important;
	flex-wrap: wrap !important;
	align-items: center !important;
	justify-content: center !important;
	gap: 20px 15px !important;
	margin-top: 25px !important;
	width: 100% !important;
}

.emsf-step-item {
	display: flex !important;
	flex-direction: column !important;
	align-items: center !important;
	gap: 8px !important;
	opacity: 0.35 !important;
	transition: all 0.3s ease !important;
	position: relative !important;
	flex: 0 0 auto !important;
	min-width: 60px !important;
}

.emsf-step-item.active,
.emsf-step-item.completed {
	opacity: 1 !important;
}

.emsf-step-number {
	width: 32px !important;
	height: 32px !important;
	background: #f1f5f9 !important;
	border: 2px solid #e2e8f0 !important;
	border-radius: 50% !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	font-weight: 700 !important;
	font-size: 13px !important;
	color: #94a3b8 !important;
	transition: all 0.3s ease !important;
	z-index: 2 !important;
}

.emsf-contact-form-wrapper .emsf-step-item.active .emsf-step-number {
	background-color: var(--emsf-primary) !important;
	border-color: var(--emsf-primary) !important;
	color: #ffffff !important;
	box-shadow: 0 0 0 4px color-mix(in srgb, var(--emsf-primary), transparent 85%) !important;
}

.emsf-contact-form-wrapper .emsf-step-item.completed .emsf-step-number {
	background-color: var(--emsf-primary) !important;
	border-color: var(--emsf-primary) !important;
	color: #ffffff !important;
}

.emsf-step-label {
	font-size: 11px !important;
	font-weight: 700 !important;
	color: var(--emsf-text-muted) !important;
	text-transform: uppercase !important;
	letter-spacing: 0.8px !important;
	transition: all 0.3s ease !important;
}

.emsf-step-item.active .emsf-step-label,
.emsf-step-item.completed .emsf-step-label {
	color: var(--emsf-primary) !important;
	/* Keep it look active */
}

.emsf-step-line {
	display: none !important;
}

.emsf-steps-tracker.step-2-active .emsf-step-line {
	background-color: var(--emsf-primary) !important;
}

/* Form Fields */
#emsf-contact-form .emsf-form-step {
	display: none;
	animation: emsfSlideIn 0.4s ease forwards;
}

#emsf-contact-form .emsf-form-step.active {
	display: block !important;
}

@keyframes emsfSlideIn {
	from {
		opacity: 0;
		transform: translateX(20px);
	}

	to {
		opacity: 1;
		transform: translateX(0);
	}
}

/* Grid System for Custom Fields */
.emsf-row {
	display: flex;
	flex-wrap: wrap;
	gap: 20px;
	margin-bottom: 20px;
}

.emsf-row .emsf-form-group {
	margin-bottom: 0 !important;
}

.emsf-col-100 {
	width: 100%;
}

.emsf-col-50 {
	width: calc(50% - 10px);
}

.emsf-col-33 {
	width: calc(33.333% - 14px);
}

@media (max-width: 600px) {

	.emsf-col-50,
	.emsf-col-33 {
		width: 100%;
	}
}

#emsf-contact-form .emsf-form-row {
	display: flex !important;
	gap: 20px !important;
	margin: 0 0 20px 0 !important;
}

#emsf-contact-form .emsf-form-row .emsf-form-group {
	flex: 1 !important;
	margin-bottom: 0 !important;
}

#emsf-contact-form .emsf-form-group label {
	display: block !important;
	margin: 0 0 8px 0 !important;
	font-weight: 600 !important;
	color: var(--emsf-label-clr) !important;
	font-size: 14px !important;
	text-align: left !important;
	line-height: 1.5 !important;
}

#emsf-contact-form .emsf-form-group .required {
	color: var(--emsf-error) !important;
}

#emsf-contact-form .emsf-form-control {
	width: 100% !important;
	padding: var(--emsf-input-padding) !important;
	background-color: var(--emsf-bg-input) !important;
	border: 1px solid var(--emsf-border) !important;
	border-radius: var(--emsf-input-radius) !important;
	font-size: 16px !important;
	font-weight: 400 !important;
	font-family: inherit !important;
	color: var(--emsf-text-main) !important;
	box-sizing: border-box !important;
	transition: all 0.2s ease !important;
	outline: none !important;
	box-shadow: none !important;
	min-height: 48px !important;
	line-height: normal !important;
	appearance: none !important;
	-webkit-appearance: none !important;
}

/* Specific styling for File inputs */
#emsf-contact-form input[type="file"].emsf-form-control {
	padding: 10px !important;
	line-height: normal !important;
	cursor: pointer !important;
}

#emsf-contact-form input[type="file"].emsf-form-control::file-selector-button {
	background: #fff !important;
	border: 1px solid var(--emsf-border) !important;
	color: var(--emsf-text-main) !important;
	padding: 4px 12px !important;
	border-radius: 4px !important;
	font-weight: 600 !important;
	font-size: 12px !important;
	margin-right: 10px !important;
	cursor: pointer !important;
	transition: all 0.2s ease !important;
}

#emsf-contact-form input[type="file"].emsf-form-control:hover::file-selector-button {
	background: var(--emsf-bg-input) !important;
	border-color: #cbd5e1 !important;
}

#emsf-contact-form .emsf-form-control:hover {
	border-color: #cbd5e1 !important;
}

#emsf-contact-form .emsf-form-control::placeholder {
	color: var(--emsf-placeholder-clr) !important;
}

#emsf-contact-form .emsf-form-control:focus {
	background-color: #fff !important;
	border-color: var(--emsf-primary) !important;
	box-shadow: none !important;
}

#emsf-contact-form textarea.emsf-form-control {
	min-height: 120px !important;
	line-height: 1.5 !important;
}

/* Button & Overrides */
.emsf-step-navigation {
	display: flex !important;
	gap: 15px !important;
	margin-top: 30px !important;
	width: 100% !important;
}

#emsf-contact-form .emsf-submit-btn,
#emsf-contact-form .emsf-btn-secondary {
	flex: 1 !important;
	width: 100% !important;
	height: auto !important;
	min-height: 50px !important;
	padding: var(--emsf-btn-padding) !important;
	border: none !important;
	border-radius: var(--emsf-btn-radius) !important;
	font-size: 16px !important;
	font-weight: 500 !important;
	cursor: pointer !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	gap: 10px !important;
	transition: all 0.2s ease !important;
	line-height: 1 !important;
	text-decoration: none !important;
	margin: 0 !important;
	text-transform: none !important;
	box-shadow: none !important;
}

#emsf-contact-form .emsf-submit-btn {
	background-color: var(--emsf-primary) !important;
	color: #ffffff !important;
}

#emsf-contact-form .emsf-submit-btn:hover {
	background-color: var(--emsf-primary-hover) !important;
	color: #ffffff !important;
	transform: translateY(-1px) !important;
}

#emsf-contact-form .emsf-btn-secondary {
	background-color: #f1f5f9 !important;
	color: var(--emsf-text-main) !important;
	border: 1px solid var(--emsf-border) !important;
}

#emsf-contact-form .emsf-btn-secondary:hover {
	background-color: #e2e8f0 !important;
}

#emsf-contact-form .dashicons {
	font-size: 16px !important;
	width: 16px !important;
	height: 16px !important;
	display: inline-flex !important;
	align-items: center !important;
	justify-content: center !important;
	margin: 0 !important;
	padding: 0 !important;
}

/* Messages */
#emsf-contact-form .emsf-form-message {
	display: none !important;
	text-align: center !important;
	border-radius: 8px !important;
	font-size: 14px !important;
	font-weight: 600 !important;
	animation: emsfFadeIn 0.3s ease-out !important;
}

#emsf-contact-form .emsf-form-message.error,
#emsf-contact-form .emsf-form-message.success {
	display: block !important;
	margin: 0 0 25px 0 !important;
	padding: 14px !important;
}

#emsf-contact-form .emsf-form-message.error {
	background: #fef2f2 !important;
	color: #dc2626 !important;
	border: 1px solid #fecaca !important;
}

#emsf-contact-form .emsf-form-message.success {
	background: #f0fdf4 !important;
	color: #16a34a !important;
	border: 1px solid #bbf7d0 !important;
}

@keyframes emsfFadeIn {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@media screen and (max-width: 600px) {
	#emsf-contact-form .emsf-form-row {
		flex-direction: column !important;
		gap: 20px !important;
	}

	.emsf-step-navigation {
		flex-direction: column !important;
		gap: 10px !important;
	}
}

.emsf-conditional-hide {
	display: none !important;
}

/* Choices.js Premium Theming */
#emsf-contact-form .choices.emsf-custom-select {
	margin-bottom: 0 !important;
	overflow: visible !important;
}

#emsf-contact-form .choices.emsf-custom-select .choices__inner {
	background-color: var(--emsf-bg-input) !important;
	border: 1px solid var(--emsf-border) !important;
	border-radius: var(--emsf-input-radius) !important;
	min-height: 48px !important;
	padding: 8px 12px !important;
	transition: all 0.2s ease !important;
}

#emsf-contact-form .choices.emsf-custom-select.is-focused .choices__inner {
	border-color: var(--emsf-primary) !important;
	background-color: #fff !important;
}

#emsf-contact-form .choices.emsf-custom-select .choices__list--dropdown {
	border-radius: 8px !important;
	border: 1px solid var(--emsf-border) !important;
	box-shadow: var(--emsf-shadow) !important;
	margin-top: 5px !important;
	z-index: 100 !important;
	overflow: hidden !important;
}

#emsf-contact-form .choices.emsf-custom-select .choices__item--selectable.is-highlighted {
	background-color: var(--emsf-primary) !important;
	color: #ffffff !important;
}

#emsf-contact-form .choices.emsf-custom-select .choices__list--single {
	padding: 4px 16px 4px 4px !important;
}

#emsf-contact-form .choices.emsf-custom-select::after {
	border-color: #94a3b8 transparent transparent transparent !important;
	border-width: 5px !important;
	right: 15px !important;
}

#emsf-contact-form .choices.emsf-custom-select.is-open::after {
	border-color: transparent transparent #94a3b8 transparent !important;
	top: 40% !important;
}

/* Flatpickr Premium Theming */
.flatpickr-calendar {
	box-shadow: var(--emsf-shadow) !important;
	border: 1px solid var(--emsf-border) !important;
	border-radius: 12px !important;
	font-family: inherit !important;
}

.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange,
.flatpickr-day.selected.inRange,
.flatpickr-day.startRange.inRange,
.flatpickr-day.endRange.inRange,
.flatpickr-day.selected:focus,
.flatpickr-day.startRange:focus,
.flatpickr-day.endRange:focus,
.flatpickr-day.selected:hover,
.flatpickr-day.startRange:hover,
.flatpickr-day.endRange:hover,
.flatpickr-day.moveToMonth,
.flatpickr-day.today.selected {
	background: var(--emsf-primary) !important;
	border-color: var(--emsf-primary) !important;
}

.flatpickr-current-month .flatpickr-monthDropdown-months {
	font-weight: 700 !important;
}

.flatpickr-day.today {
	border-color: var(--emsf-primary) !important;
}

.flatpickr-day.today:hover {
	background: var(--emsf-primary) !important;
	color: #fff !important;
}